"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const __1 = require("..");
class WorkerContainer {
    worker;
    constructor(entryPointJSPath, env) {
        Object.assign(process.env, env);
        this.worker = __1.texts.runWorker(entryPointJSPath, { noSentry: true });
    }
    onMessage(handler) {
        this.worker.on('message', handler);
    }
    postMessage(msg) {
        this.worker.postMessage(msg);
    }
    dispose() {
        this.worker.terminate();
    }
}
exports.default = WorkerContainer;
