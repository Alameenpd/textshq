"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.parseMessageTemplate = void 0;
function parseMessageTemplate(text, senderID) {
    const regex = /{{(.*?)}}/g;
    const toScalarIndex = (idx) => Array.from(text.substring(0, idx)).length;
    return [...text.matchAll(regex)].map(m => ({
        from: toScalarIndex(m.index),
        to: toScalarIndex(m.index + m[0].length),
        mentionedUser: { id: m[1] === 'sender' ? senderID : m[1] },
    }));
}
exports.parseMessageTemplate = parseMessageTemplate;
